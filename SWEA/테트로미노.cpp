#include <iostream>
#include <algorithm>
using namespace std;

int map[504][504];
int N,M,answer;
char tetris[19][4][5] = {
    {
        "1000",
        "1000",
        "1000",
        "1000"
        
    },
    
    {
        "1111",
        "0000",
        "0000",
        "0000"
        
    },
    
    {
        "1100",
        "1100",
        "0000",
        "0000"
        
    },
    
    {
        "1000",
        "1000",
        "1100",
        "0000"
        
    },
    
    {
        "0100",
        "0100",
        "1100",
        "0000"
        
    },
    
    {
        "1100",
        "1000",
        "1000",
        "0000"
        
    },
    
    {
        "1100",
        "0100",
        "0100",
        "0000"
        
    },
    
    {
        "1110",
        "0010",
        "0000",
        "0000"
        
    },
    
    {
        "1110",
        "1000",
        "0000",
        "0000"
        
    },
    
    {
        "1000",
        "1110",
        "0000",
        "0000"
        
    },
    
    {
        "0010",
        "1110",
        "0000",
        "0000"
        
    },
    
    {
        "1000",
        "1100",
        "0100",
        "0000"
        
    },
    
    {
        "0100",
        "1100",
        "1000",
        "0000"
        
    },
    
    {
        "1100",
        "0110",
        "0000",
        "0000"
        
    },
    
    {
        "0110",
        "1100",
        "0000",
        "0000"
        
    },
    
    {
        "1110",
        "0100",
        "0000",
        "0000"
        
    },
    
    {
        "0100",
        "1110",
        "0000",
        "0000"
        
    },
    
    {
        "1000",
        "1100",
        "1000",
        "0000"
        
    },
    
    {
        "0100",
        "1100",
        "0100",
        "0000"
        
    },
    
};

int calc(int y, int x, int k) {
    int sum = 0;
    for(int i=0; i<4; i++) {
        for(int j=0; j<4; j++) {
            sum += (tetris[k][i][j] - '0') * map[y+i][x+j];
        }
    }
    
    return sum;
}

int main() {
    scanf("%d %d", &N, &M);
    
    for(int i=0; i<N; i++) {
        for(int j=0; j<M; j++) {
            scanf("%d", &map[i][j]);
        }
    }
                                        
    for(int i=0; i<N; i++) {
        for(int j=0; j<M; j++) {
            for(int k=0; k<19; k++) {
                answer = max(answer, calc(i,j,k));
            }
        }
    }
    
    printf("%d\n", answer);
    return 0;
}
